"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[410],{410:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var n=a(420),s=a(791),c=a(734),o=a(553);const l=e=>e.contacts,r=(0,o.P1)(l,(e=>e.contacts)),i=(0,o.P1)(l,(e=>e.isLoading)),u=(0,o.P1)(l,(e=>e.error)),m=(0,o.P1)(l,(e=>e.filter));var d=a(393),p=a(184);const x=e=>{let{message:t}=e;return(0,p.jsx)("p",{className:"error",children:t})},_="Filter_filterinput__Rk5X8",h=()=>{const e=(0,n.v9)(m),t=(0,n.I0)();return(0,p.jsx)("input",{className:_,onChange:e=>{const{value:a}=e.target;t((0,c.Tv)(a))},value:e,type:"text",name:"filter",placeholder:"\u041f\u043e\u0448\u0443\u043a"})},v="ContactForm_contactsflex__D93ew",f="ContactForm_contactinput__KES5x",g="ContactForm_contactbutton__auEqg";var C=a(264),j=a(984);const N=()=>{const[e,t]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),l=(0,n.v9)(r),i=(0,n.I0)(),u=e=>{const t=e.replace(/[^0-9]/g,"");return t.length<4?t:t.length<7?"".concat(t.slice(0,3),"-").concat(t.slice(3)):"".concat(t.slice(0,3),"-").concat(t.slice(3,6),"-").concat(t.slice(6,10))},m=e=>{let{target:{name:a,value:n}}=e;"name"===a?t(n):"number"===a&&o(u(n))};return(0,p.jsxs)("form",{className:v,onSubmit:n=>{n.preventDefault(),((e,t)=>{const a=e.toLowerCase(),n=t?t.replace(/[^0-9]/g,""):"";if(l.some((e=>e.name.toLowerCase()===a||e.phone&&e.phone.replace(/[^0-9]/g,"")===n)))return void C.Notify.failure("".concat(e," \u0432\u0436\u0435 \u0454 \u0432 \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432."),{position:"center-bottom",timeout:3e3,width:"320px",fontSize:"18px"});const s=u(n),o={id:(0,j.x0)(),name:e,phone:s};i((0,c.uK)(o))})(e,a),t(""),o("")},children:[(0,p.jsx)("input",{className:f,type:"text",name:"name",value:e,onChange:m,placeholder:"\u0406\u043c'\u044f",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0}),(0,p.jsx)("input",{className:f,type:"tel",name:"number",value:a,onChange:m,placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",required:!0}),(0,p.jsx)("button",{className:g,type:"submit",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})},b={contactlistform:"ContactsPage_contactlistform__hsscl",linone:"ContactsPage_linone__ylNrQ",liflex:"ContactsPage_liflex__i0Glp",divflex:"ContactsPage_divflex__qv3sp",contactlistbutton:"ContactsPage_contactlistbutton__5ntvW"};var w=a(206);const P=()=>{const e=(0,n.v9)(r),t=(0,n.v9)(m),a=(0,n.v9)(u),o=(0,n.v9)(i),l=(0,n.I0)();(0,s.useEffect)((()=>{l((0,c.yF)())}),[l]);const _=(()=>{if(!t)return e;const a=t.toLowerCase();return e.filter((e=>e.name.toLowerCase().includes(a)))})();return(0,p.jsxs)("div",{className:b.contactlistform,children:[(0,p.jsx)("p",{children:"Phonebook"}),(0,p.jsx)(N,{}),(0,p.jsx)("p",{children:"Contacts list"}),(0,p.jsx)(h,{}),o&&(0,p.jsx)(d.Z,{}),a&&(0,p.jsx)(x,{message:a}),(0,p.jsx)("ul",{className:b.linone,children:Array.isArray(_)&&_.map((e=>(0,p.jsxs)("li",{className:b.liflex,children:[(0,p.jsxs)("div",{className:b.divflex,children:[e.name,": ",e.phone]}),(0,p.jsx)("div",{className:b.contactlistbutton,onClick:()=>{return t=e.id,void l((0,c.GK)(t));var t},children:(0,p.jsx)(w.FNM,{className:b.iconcontacts})})]},e.id)))})]})}}}]);
//# sourceMappingURL=410.4dcb8237.chunk.js.map